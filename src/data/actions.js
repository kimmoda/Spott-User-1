import { authenticationTokenSelector, apiBaseUrlSelector, currentLocaleSelector } from '../pages/app/selector';

export function makeApiActionCreator (_apiCall, startActionType, successActionType, errorActionType) {
  return function (params) {
    return async (dispatch, getState) => {
      const state = getState();
      const apiBaseUrl = apiBaseUrlSelector(state);
      const authenticationToken = authenticationTokenSelector(state);
      const locale = currentLocaleSelector(state);
      dispatch({ ...params, type: startActionType });
      try {
        const data = await _apiCall(apiBaseUrl, authenticationToken, locale, params);
        dispatch({ ...params, data, type: successActionType });
        return data;
      } catch (error) {
        dispatch({ ...params, error, type: errorActionType });
        throw error;
      }
    };
  };
}

// Action types
// ////////////

export const CHARACTER_FETCH_START = 'CHARACTER_FETCH_START';
export const CHARACTER_FETCH_SUCCESS = 'CHARACTER_FETCH_SUCCESS';
export const CHARACTER_FETCH_ERROR = 'CHARACTER_FETCH_ERROR';

export const CHARACTER_PRODUCTS_FETCH_START = 'DATA/CHARACTER_PRODUCTS_FETCH_START';
export const CHARACTER_PRODUCTS_FETCH_SUCCESS = 'DATA/CHARACTER_PRODUCTS_FETCH_SUCCESS';
export const CHARACTER_PRODUCTS_FETCH_ERROR = 'DATA/CHARACTER_PRODUCTS_FETCH_ERROR';

export const NEW_SCENES_FOR_YOU_FETCH_START = 'DATA/NEW_SCENES_FOR_YOU_FETCH_START';
export const NEW_SCENES_FOR_YOU_FETCH_SUCCESS = 'DATA/NEW_SCENES_FOR_YOU_FETCH_SUCCESS';
export const NEW_SCENES_FOR_YOU_FETCH_ERROR = 'DATA/NEW_SCENES_FOR_YOU_FETCH_ERROR';

export const SCENE_FETCH_START = 'SCENE_FETCH_START';
export const SCENE_FETCH_SUCCESS = 'SCENE_FETCH_SUCCESS';
export const SCENE_FETCH_ERROR = 'SCENE_FETCH_ERROR';

export const MEDIUM_NEW_SCENES_FOR_YOU_FETCH_START = 'DATA/MEDIUM_NEW_SCENES_FOR_YOU_FETCH_START';
export const MEDIUM_NEW_SCENES_FOR_YOU_FETCH_SUCCESS = 'DATA/MEDIUM_NEW_SCENES_FOR_YOU_FETCH_SUCCESS';
export const MEDIUM_NEW_SCENES_FOR_YOU_FETCH_ERROR = 'DATA/MEDIUM_NEW_SCENES_FOR_YOU_FETCH_ERROR';

export const MEDIA_RECENTLY_ADDED_FETCH_START = 'DATA/MEDIA_RECENTLY_ADDED_FETCH_START';
export const MEDIA_RECENTLY_ADDED_FETCH_SUCCESS = 'DATA/MEDIA_RECENTLY_ADDED_FETCH_SUCCESS';
export const MEDIA_RECENTLY_ADDED_FETCH_ERROR = 'DATA/MEDIA_RECENTLY_ADDED_FETCH_ERROR';

export const PRODUCTS_RECENTLY_ADDED_TO_WISHLIST_FETCH_START = 'DATA/PRODUCTS_RECENTLY_ADDED_TO_WISHLIST_FETCH_START';
export const PRODUCTS_RECENTLY_ADDED_TO_WISHLIST_FETCH_SUCCESS = 'DATA/PRODUCTS_RECENTLY_ADDED_TO_WISHLIST_FETCH_SUCCESS';
export const PRODUCTS_RECENTLY_ADDED_TO_WISHLIST_FETCH_ERROR = 'DATA/PRODUCTS_RECENTLY_ADDED_TO_WISHLIST_FETCH_ERROR';

export const POPULAR_PRODUCTS_FETCH_START = 'DATA/POPULAR_PRODUCTS_FETCH_START';
export const POPULAR_PRODUCTS_FETCH_SUCCESS = 'DATA/POPULAR_PRODUCTS_FETCH_SUCCESS';
export const POPULAR_PRODUCTS_FETCH_ERROR = 'DATA/POPULAR_PRODUCTS_FETCH_ERROR';

export const PRODUCT_FETCH_START = 'DATA/PRODUCT_FETCH_START';
export const PRODUCT_FETCH_SUCCESS = 'DATA/PRODUCT_FETCH_SUCCESS';
export const PRODUCT_FETCH_ERROR = 'DATA/PRODUCT_FETCH_ERROR';

export const UB_PRODUCT_FETCH_START = 'DATA/UB_PRODUCT_FETCH_START';
export const UB_PRODUCT_FETCH_SUCCESS = 'DATA/UB_PRODUCT_FETCH_SUCCESS';
export const UB_PRODUCT_FETCH_ERROR = 'DATA/UB_PRODUCT_FETCH_ERROR';

export const USER_FETCH_START = 'DATA/USER_FETCH_START';
export const USER_FETCH_SUCCESS = 'DATA/USER_FETCH_SUCCESS';
export const USER_FETCH_ERROR = 'DATA/USER_FETCH_ERROR';

export const SAVED_SCENES_OF_USER_FETCH_START = 'SAVED_SCENES_OF_USER_FETCH_START';
export const SAVED_SCENES_OF_USER_FETCH_SUCCESS = 'SAVED_SCENES_OF_USER_FETCH_SUCCESS';
export const SAVED_SCENES_OF_USER_FETCH_ERROR = 'SAVED_SCENES_OF_USER_FETCH_ERROR';

export const TV_GUIDE_ENTRIES_FETCH_START = 'DATA/TV_GUIDE_ENTRIES_FETCH_START';
export const TV_GUIDE_ENTRIES_FETCH_SUCCESS = 'DATA/TV_GUIDE_ENTRIES_FETCH_SUCCESS';
export const TV_GUIDE_ENTRIES_FETCH_ERROR = 'DATA/TV_GUIDE_ENTRIES_FETCH_ERROR';

export const WISHLIST_OF_USER_FETCH_START = 'WISHLIST_OF_USER_FETCH_START';
export const WISHLIST_OF_USER_FETCH_SUCCESS = 'WISHLIST_OF_USER_FETCH_SUCCESS';
export const WISHLIST_OF_USER_FETCH_ERROR = 'WISHLISTS_OF_USER_FETCH_ERROR';

export const WISHLISTS_OF_USER_FETCH_START = 'WISHLISTS_OF_USER_FETCH_START';
export const WISHLISTS_OF_USER_FETCH_SUCCESS = 'WISHLISTS_OF_USER_FETCH_SUCCESS';
export const WISHLISTS_OF_USER_FETCH_ERROR = 'WISHLISTS_OF_USER_FETCH_ERROR';

export const WISHLIST_PRODUCTS_FETCH_START = 'WISHLIST_PRODUCTS_FETCH_START';
export const WISHLIST_PRODUCTS_FETCH_SUCCESS = 'WISHLIST_PRODUCTS_FETCH_SUCCESS';
export const WISHLIST_PRODUCTS_FETCH_ERROR = 'WISHLIST_PRODUCTS_FETCH_ERROR';

export const MEDIUM_FETCH_START = 'DATA/MEDIUM_FETCH_START';
export const MEDIUM_FETCH_SUCCESS = 'DATA/MEDIUM_FETCH_SUCCESS';
export const MEDIUM_FETCH_ERROR = 'DATA/MEDIUM_FETCH_ERROR';

export const MEDIUM_CHARACTERS_FETCH_START = 'DATA/MEDIUM_CHARACTERS_FETCH_START';
export const MEDIUM_CHARACTERS_FETCH_SUCCESS = 'DATA/MEDIUM_CHARACTERS_FETCH_SUCCESS';
export const MEDIUM_CHARACTERS_FETCH_ERROR = 'DATA/MEDIUM_CHARACTERS_FETCH_ERROR';

export const MEDIUM_PRODUCTS_FETCH_START = 'DATA/MEDIUM_PRODUCTS_FETCH_START';
export const MEDIUM_PRODUCTS_FETCH_SUCCESS = 'DATA/MEDIUM_PRODUCTS_FETCH_SUCCESS';
export const MEDIUM_PRODUCTS_FETCH_ERROR = 'DATA/MEDIUM_PRODUCTS_FETCH_ERROR';

export const MEDIUM_TOP_PRODUCTS_FETCH_START = 'DATA/MEDIUM_TOP_PRODUCTS_FETCH_START';
export const MEDIUM_TOP_PRODUCTS_FETCH_SUCCESS = 'DATA/MEDIUM_TOP_PRODUCTS_FETCH_SUCCESS';
export const MEDIUM_TOP_PRODUCTS_FETCH_ERROR = 'DATA/MEDIUM_TOP_PRODUCTS_FETCH_ERROR';

export const MEDIUM_TOP_USER_PRODUCTS_FETCH_START = 'DATA/MEDIUM_TOP_USER_PRODUCTS_FETCH_START';
export const MEDIUM_TOP_USER_PRODUCTS_FETCH_SUCCESS = 'DATA/MEDIUM_TOP_USER_PRODUCTS_FETCH_SUCCESS';
export const MEDIUM_TOP_USER_PRODUCTS_FETCH_ERROR = 'DATA/MEDIUM_TOP_USER_PRODUCTS_FETCH_ERROR';

export const MEDIUM_SUBSCRIBER_ADD_START = 'DATA/MEDIUM_SUBSCRIBER_ADD_START';
export const MEDIUM_SUBSCRIBER_ADD_SUCCESS = 'DATA/MEDIUM_SUBSCRIBER_ADD_SUCCESS';
export const MEDIUM_SUBSCRIBER_ADD_ERROR = 'DATA/MEDIUM_SUBSCRIBER_ADD_ERROR';

export const MEDIUM_SUBSCRIBER_REMOVE_START = 'DATA/MEDIUM_SUBSCRIBER_REMOVE_START';
export const MEDIUM_SUBSCRIBER_REMOVE_SUCCESS = 'DATA/MEDIUM_SUBSCRIBER_REMOVE_SUCCESS';
export const MEDIUM_SUBSCRIBER_REMOVE_ERROR = 'DATA/MEDIUM_SUBSCRIBER_REMOVE_ERROR';

export const MEDIUM_SEASONS_FETCH_START = 'DATA/MEDIUM_SEASONS_FETCH_START';
export const MEDIUM_SEASONS_FETCH_SUCCESS = 'DATA/MEDIUM_SEASONS_FETCH_SUCCESS';
export const MEDIUM_SEASONS_FETCH_ERROR = 'DATA/MEDIUM_SEASONS_FETCH_ERROR';

export const MEDIUM_EPISODES_FETCH_START = 'DATA/MEDIUM_EPISODES_FETCH_START';
export const MEDIUM_EPISODES_FETCH_SUCCESS = 'DATA/MEDIUM_EPISODES_FETCH_SUCCESS';
export const MEDIUM_EPISODES_FETCH_ERROR = 'DATA/MEDIUM_EPISODES_FETCH_ERROR';

export const NEW_EPISODES_FETCH_START = 'DATA/NEW_EPISODES_FETCH_START';
export const NEW_EPISODES_FETCH_SUCCESS = 'DATA/NEW_EPISODES_FETCH_SUCCESS';
export const NEW_EPISODES_FETCH_ERROR = 'DATA/NEW_EPISODES_FETCH_ERROR';

export const MEDIUM_SCENES_FETCH_START = 'DATA/MEDIUM_SCENES_FETCH_START';
export const MEDIUM_SCENES_FETCH_SUCCESS = 'DATA/MEDIUM_SCENES_FETCH_SUCCESS';
export const MEDIUM_SCENES_FETCH_ERROR = 'DATA/MEDIUM_SCENES_FETCH_ERROR';

export const POPULAR_MEDIA_FETCH_START = 'DATA/POPULAR_MEDIA_FETCH_START';
export const POPULAR_MEDIA_FETCH_SUCCESS = 'DATA/POPULAR_MEDIA_FETCH_SUCCESS';
export const POPULAR_MEDIA_FETCH_ERROR = 'DATA/POPULAR_MEDIA_FETCH_ERROR';

export const MEDIUM_RECENT_EPISODES_FETCH_START = 'DATA/MEDIUM_RECENT_EPISODES_FETCH_START';
export const MEDIUM_RECENT_EPISODES_FETCH_SUCCESS = 'DATA/MEDIUM_RECENT_EPISODES_FETCH_SUCCESS';
export const MEDIUM_RECENT_EPISODES_FETCH_ERROR = 'DATA/MEDIUM_RECENT_EPISODES_FETCH_ERROR';
